<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factory Simulator</title>
    <link rel="stylesheet" href="styles.css?v=6">
</head>
<body>
    <div class="game-container">
        <!-- Top HUD Bar -->
        <header class="hud-bar">
            <div class="hud-left">
                <div class="hud-item">
                    <span class="hud-icon">üí∞</span>
                    <span class="hud-value" id="hud-balance">1000</span>
                </div>
                <div class="hud-item">
                    <span class="hud-icon">üì¶</span>
                    <span class="hud-value" id="hud-storage">0/100</span>
                </div>
                <div class="hud-item">
                    <span class="hud-icon">‚ö°</span>
                    <span class="hud-value" id="hud-production">0/s</span>
                </div>
            </div>
            <div class="hud-center">
                <span class="game-title">Factory Simulator</span>
            </div>
            <div class="hud-right">
                <div class="hud-item clickable" id="save-btn" title="Save Game">
                    <span class="hud-icon">üíæ</span>
                </div>
                <div class="hud-item clickable" id="settings-btn" title="Settings">
                    <span class="hud-icon">‚öôÔ∏è</span>
                </div>
            </div>
        </header>

        <!-- Main Game Grid -->
        <main class="game-grid">
            <!-- Left Panel - Inventory -->
            <aside class="panel panel-inventory">
                <div class="panel-header">
                    <span class="panel-icon">üì¶</span>
                    <span class="panel-title">Inventory</span>
                </div>
                <div class="panel-content">
                    <div class="inventory-slots" id="inventory-grid">
                        <!-- Generated by JS -->
                    </div>
                    <div class="storage-bar">
                        <div class="storage-fill" id="storage-bar-fill"></div>
                        <span class="storage-text" id="storage-text">0 / 100</span>
                    </div>
                </div>
            </aside>

            <!-- Center Panel - Main View -->
            <section class="panel panel-main">
                <!-- Tab Navigation -->
                <nav class="tab-nav">
                    <button class="tab-btn active" data-tab="warehouses">
                        <span class="tab-icon">üè≠</span>
                        <span class="tab-label">Warehouses</span>
                    </button>
                    <button class="tab-btn" data-tab="machines">
                        <span class="tab-icon">‚öôÔ∏è</span>
                        <span class="tab-label">Machines</span>
                    </button>
                    <button class="tab-btn" data-tab="shop">
                        <span class="tab-icon">üõí</span>
                        <span class="tab-label">Shop</span>
                    </button>
                    <button class="tab-btn" data-tab="market">
                        <span class="tab-icon">üìà</span>
                        <span class="tab-label">Market</span>
                    </button>
                    <button class="tab-btn" data-tab="recipes">
                        <span class="tab-icon">üìñ</span>
                        <span class="tab-label">Recipes</span>
                    </button>
                </nav>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Warehouses Tab -->
                    <div class="tab-pane active" id="tab-warehouses">
                        <div class="section-header">
                            <h2>Your Warehouses</h2>
                            <button class="btn btn-primary" id="buy-warehouse-btn">
                                <span>+ New Warehouse</span>
                                <span class="btn-cost" id="warehouse-cost">$500</span>
                            </button>
                        </div>
                        <div class="warehouse-grid" id="warehouse-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <!-- Machines Tab (Warehouse Detail) -->
                    <div class="tab-pane" id="tab-machines">
                        <div class="section-header">
                            <button class="btn btn-ghost" id="back-to-warehouses">‚Üê Back</button>
                            <h2 id="current-warehouse-name">Main Warehouse</h2>
                            <div class="warehouse-stats">
                                <span class="stat"><span class="stat-label">Slots:</span> <span id="wh-slots">0/10</span></span>
                            </div>
                        </div>
                        
                        <div class="machines-container">
                            <h3>Installed Machines</h3>
                            <div class="machine-list" id="machine-list">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <div class="upgrades-section">
                            <h3>üîß Warehouse Upgrades</h3>
                            <div class="upgrade-grid">
                                <button class="btn btn-upgrade" id="upgrade-slots-btn">
                                    <span class="upgrade-name">+5 Slots</span>
                                    <span class="upgrade-cost" id="slots-cost">$250</span>
                                </button>
                                <button class="btn btn-upgrade" id="upgrade-storage-btn">
                                    <span class="upgrade-name">+50 Storage</span>
                                    <span class="upgrade-cost" id="storage-cost">$200</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Shop Tab -->
                    <div class="tab-pane" id="tab-shop">
                        <div class="section-header">
                            <h2>üõí Shop</h2>
                        </div>
                        <div class="shop-tabs">
                            <button class="shop-tab active" data-category="machines">‚öôÔ∏è Machines</button>
                            <button class="shop-tab" data-category="warehouses">üè≠ Warehouses</button>
                            <button class="shop-tab" data-category="upgrades">‚¨ÜÔ∏è Upgrades</button>
                        </div>
                        <div class="shop-content" id="shop-content">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <!-- Market Tab -->
                    <div class="tab-pane" id="tab-market">
                        <div class="section-header">
                            <h2>üìà Market</h2>
                        </div>
                        <div class="market-grid" id="market-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <!-- Recipes Tab (JEI-style) -->
                    <div class="tab-pane" id="tab-recipes">
                        <div class="section-header">
                            <h2>üìñ Recipe Browser</h2>
                        </div>
                        <div class="recipe-browser" id="recipe-content">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Panel - Activity Log -->
            <aside class="panel panel-log">
                <div class="panel-header">
                    <span class="panel-icon">üìú</span>
                    <span class="panel-title">Activity</span>
                </div>
                <div class="panel-content">
                    <div class="log-list" id="activity-log">
                        <div class="log-item">Game started</div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Bottom Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="status-item">Warehouses: <strong id="status-warehouses">1</strong></span>
                <span class="status-item">Machines: <strong id="status-machines">0</strong></span>
            </div>
            <div class="status-right">
                <span class="status-item" id="auto-save-status">Auto-save: ON</span>
            </div>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="close-settings">√ó</button>
            </div>
            <div class="modal-body">
                <button class="btn btn-full" id="export-save-btn">Export Save</button>
                <label class="btn btn-full">
                    Import Save
                    <input type="file" id="import-save-input" accept=".json" hidden>
                </label>
                <button class="btn btn-danger btn-full" id="reset-game-btn">Reset Game</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
